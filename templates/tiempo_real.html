{% extends 'base.html' %}
{% block title %}Tiempo Real{% endblock %}

{% block content %}
<h2>Detección en Tiempo Real - Cámara {{ camara }}</h2>

<form method="get">
    <label for="camara">Selecciona Cámara:</label>
    <select name="camara">
        {% for c in camaras %}
            <option value="{{ c }}" {% if c == camara %}selected{% endif %}>{{ c }}</option>
        {% endfor %}
    </select>
    <button type="submit">Ver</button>
</form>

{% if datos %}
    {% if datos.error %}
        <p style="color: red;">Error: {{ datos.error }}</p>
    {% else %}
        <h3>Vehículos detectados: {{ datos.vehicle_count }}</h3>
        <p>Resolución: {{ datos.resolution }}</p>
        <p>FPS procesamiento: {{ datos.processing_fps }}</p>
        <img src="{{ datos.image }}" alt="Imagen anotada" width="600">
    {% endif %}
{% endif %}
{% endblock %}
